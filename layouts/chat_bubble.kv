#:kivy 1.0
#:import get_color_from_hex kivy.utils.get_color_from_hex

<ChatBubble>
    width : 400
    adaptive_height : True
    padding : [10, 0, 10, 0]
    orientation : "vertical"
    size_hint_x : None
    size_hint_y : None
    pos_hint : {"right" : 1} if root.sender == "YOU" else {"left" : 0}
    canvas:
        Color:
            rgba: get_color_from_hex("#dcf8c6") if root.sender == "YOU" else get_color_from_hex("#FFFFFF")
        RoundedRectangle:
            pos: self.pos
            radius : [10]
            size: self.size
            
    MDBoxLayout : 
        size_hint : None, None
        # height : chat_msg.height + 10
        width : 380
        MDBoxLayout :
            orientation : "vertical"
            # height : chat_msg.height + time.height + receipt.height
            # height : 100
            adaptive_height : True
            TextInput:
                id : chat_msg
                text : root.msg
                font_size : 13
                size_hint : None, None
                adaptive_height : True
                # height : chat_msg.height
                width : 380
                # multiline : False
                readonly : True
                disabled : True
                background_color : [0, 0, 0, 0]
                foreground_color : get_color_from_hex("#000000")
            # Bubble :
            #     text : root.msg
            #     id : chat_msg
            # Label :
            #     id : chat_msg            
            #     text : root.msg
                # text_size : None, None
                # size_hint_y : None
                # # size_hint_x : None
                # # adaptive_size: True
                # font_size  : "14sp"
                # # size_hint : 1, None
                # height : self.texture_size[1]

            # MDBoxLayout :
            #     id : time_receipt
            #     size_hint_y : None
            #     orientation : "vertical"

            #     MDLabel : 
            #         id : time
            #         font_size : "12sp"
            #         text : "12:00"

            #     MDIcon :
            #         id : receipt
            #         font_size : "12sp"
            #         icon : "check"
